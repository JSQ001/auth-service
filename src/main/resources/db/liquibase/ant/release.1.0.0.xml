<?xml version="1.0" encoding="utf-8"?>

<databaseChangeLog
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.4.xsd">
    <property name="now" value="now()" dbms="mysql,h2"/>
    <property name="now" value="sysdate" dbms="oracle"/>
    <property name="autoIncrement" value="true" dbms="mysql,h2,postgresql,oracle"/>
    <property name="amount" value="decimal(20,2)"/>


    <changeSet id="2019061914306" author="jsq">
        <createTable tableName="ant_exp_expense_category" remarks="费用小类表">
            <column name="id" type="bigint" remarks="费用小类表ID">
                <constraints
                        nullable="false"
                        primaryKey="true"
                        primaryKeyName="pk_ant_exp_expense_category_id"/>
            </column>
            <column name="set_of_book_id" type="bigint" remarks="账套ID">
                <constraints nullable="false"/>
            </column>
            <column name="code" type="varchar(50)" remarks="费用小类代码">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="varchar(200)" remarks="费用小类名称">
                <constraints nullable="false"/>
            </column>
            <column name="is_purchase" type="boolean" remarks="是否采购">
                <constraints nullable="false"/>
            </column>
            <column name="module" type="varchar(50)" remarks="所属模块">
                <constraints nullable="false"/>
            </column>
            <column name="tax" type="varchar(20)" remarks="税率">
                <constraints nullable="false"/>
            </column>

            <column name="authority" type="varchar(20)" remarks="权限范围">
                <constraints nullable="false"/>
            </column>

            <column name="company_id" type="bigint" remarks="公司"/>
            <column name="budget_dept_id" type="bigint" remarks="预算部门"/>
            <column name="benefit_dept_id" type="bigint" remarks="受益部门"/>
            <column name="adress" type="varchar(200)" remarks="区域"/>
            <column name="detail" type="varchar(200)" remarks="明细"/>
            <column name="from" type="varchar(50)" remarks="来往"/>
            <column name="project" type="varchar(50)" remarks="项目"/>
            <column name="product" type="varchar(50)" remarks="产品"/>
            <column name="industry" type="varchar(50)" remarks="行业"/>
            <column name="transfer" type="varchar(50)" remarks="转账"/>
            <column name="standby" type="varchar(50)" remarks="备用"/>



            <column name="is_enabled" type="boolean" remarks="状态">
                <constraints nullable="false"/>
            </column>
            <column name="version_number" type="int" remarks="版本号">
                <constraints nullable="false"/>
            </column>

            <column name="is_deleted" type="boolean" remarks="删除标志">
                <constraints nullable="false"/>
            </column>
            <column name="created_date" type="timestamp" defaultValue="${now}" remarks="创建日期">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="bigint" remarks="创建用户ID">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_date" type="timestamp" defaultValue="${now}" remarks="最后更新日期">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated_by" type="bigint" remarks="最后更新用户ID">
                <constraints nullable="false"/>
            </column>
        </createTable>
        <addUniqueConstraint tableName="ant_exp_expense_category" columnNames="set_of_book_id,code" constraintName="idx_unq_ant_exp_expense_category"/>
    </changeSet>
</databaseChangeLog>