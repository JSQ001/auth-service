<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hand.hcf.app.base.userRole.persistence.PageListMapper">


    <select id="listPageByFunctionIds" resultType="com.hand.hcf.app.base.userRole.dto.FunctionPageDTO">
        SELECT v.page_name,
        t.function_id,
        t.page_id,
        v.file_path,
        v.content_router,
        v.function_router,
        v.page_router,
        v.page_url
        FROM sys_function_page_relation t, sys_page_list v
        WHERE t.page_id = v.id
        AND v.deleted = 0
        <if test="functionIds != null and functionIds.size > 0">
            AND t.function_id in
            <foreach collection="functionIds" open="(" close=")" separator="," item="functionId">
                #{functionId}
            </foreach>
        </if>
    </select>
</mapper>
